#
# Copyright (c) 2008-2018 Haulmont.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

confirmationMessage=Theme extension directory structure will be created and build.gradle will be modified. Continue?
settingsGradle.moduleRegistration=project(":${modulePrefix}-web-themes").projectDir = new File(settingsDir, 'modules/web/themes')

buildGradle.webModuleSearch=def webModule = project(":${modulePrefix}-web")
buildGradle.webModuleReplace=\
def webModule = project(":${modulePrefix}-web")\n\
def webThemesModule = project(":${modulePrefix}-web-themes")

buildGradle.configureWebModuleSearch=\
\ttask deploy(dependsOn: [assemble, cleanConf], type: CubaDeployment) {\n\
\t\tappName = "${modulePrefix}"\n\
\t\tappJars(modulePrefix + '-global', modulePrefix + '-web')\n\
\t}

buildGradle.configureWebModuleReplace=\
\ttask deploy(dependsOn: [assemble, cleanConf], type: CubaDeployment) {\n\
\t\tappName = "${modulePrefix}"\n\
\t\tappJars(modulePrefix + '-global', modulePrefix + '-web')\n\
\t}\n\
\ttask buildScssThemes(type: CubaWebScssThemeCreation)\n\
\ttask deployThemes(type: CubaDeployThemeTask, dependsOn: buildScssThemes)\n\
\tassemble.dependsOn buildScssThemes\n\
}\n\
\n\
configure(webThemesModule) {\n\
\tapply(plugin: 'java')\n\
\tapply(plugin: 'maven')\n\
\tapply(plugin: 'cuba')\n\
\n\
\tappModuleType = 'web-themes'\n\
\n\
\tbuildDir = file('../build/scss-themes')\n\
\n\
\tsourceSets {\n\
\t\tmain {\n\
\t\t\tjava {\n\
\t\t\t\tsrcDir '.'\n\
\t\t\t}\n\
\t\t\tresources {\n\
\t\t\t\tsrcDir '.'\n\
\t\t\t}\n\
\t\t}\n\
\t}